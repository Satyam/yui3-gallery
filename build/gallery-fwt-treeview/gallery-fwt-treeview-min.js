YUI.add("gallery-fwt-treeview",function(a,j){var c=a.Lang,b=a.ClassNameManager.getClassName,i=function(k){return b("fw-treeview",k);},g={toggle:i("toggle"),icon:i("icon"),selection:i("selection"),content:i("content"),sel_prefix:i("selected-state")},h="contentBox",d=0,e=1,f=2;a.FWTreeView=a.Base.create("fw-treeview",a.Widget,[a.FlyweightTreeManager],{initializer:function(k){this._domEvents=["click"];this._loadConfig(k.tree);},renderUI:function(){this.get(h).setContent(this._getHTML());},CONTENT_TEMPLATE:"<ul></ul>"},{ATTRS:{defaultType:{value:"FWTreeNode"},toggleOnLabelClick:{value:false,validator:c.isBoolean}}});a.FWTreeNode=a.Base.create("fw-treenode",a.FlyweightTreeNode,[],{initializer:function(){this.after("click",this._afterClick,this);this.after("selectedChange",this._afterSelectedChange,this);},_afterClick:function(k){var l=k.domEvent.target;if(l.hasClass(g.toggle)){this.toggle();}else{if(l.hasClass(g.selection)){this.toggleSelection();}else{if(l.hasClass(g.content)||l.hasClass(g.icon)){if(this.get("root").get("toggleOnLabelClick")){this.toggle();}}}}},toggleSelection:function(){this.set("selected",(this.get("selected")?d:f));},_afterSelectedChange:function(l){var k=l.newVal;if(!this.isRoot()){a.one("#"+this.get("id")).replaceClass("yui3-fw-treeview-selected-state-"+l.prevVal,"yui3-fw-treeview-selected-state-"+k);if(this.get("propagateUp")&&l.src!=="propagatingDown"){this.getParent()._childSelectedChange().release();}}if(this.get("propagateDown")&&l.src!=="propagatingUp"){this.forSomeChildren(function(m){m.set("selected",k,"propagatingDown");});}},_dynamicLoadReturn:function(){a.FWTreeNode.superclass._dynamicLoadReturn.apply(this,arguments);if(this.get("propagateDown")){var k=this.get("selected");this.forSomeChildren(function(l){l.set("selected",k,"propagatingDown");});}},_childSelectedChange:function(){var l=0,k=0;this.forSomeChildren(function(m){l+=2;k+=m.get("selected");});this.set("selected",(k===0?d:(k===l?f:e)),{src:"propagatingUp"});return this;}},{TEMPLATE:c.sub('<li id="{id}" class="{cname_node} {sel_prefix}-{selected}"><div class="{toggle}"></div><div class="{icon}"></div><div class="{selection}"></div><div class="{content}">{label}</div><ul class="{cname_children}">{children}</ul></li>',g),NOT_SELECTED:d,PARTIALLY_SELECTED:e,FULLY_SELECTED:f,ATTRS:{selected:{value:d,validator:function(k){return k===d||k===f||k===e;}},propagateUp:{value:true,validator:c.isBoolean},propagateDown:{value:true,validator:c.isBoolean}}});},"@VERSION@",{"requires":["gallery-flyweight-tree","widget","base-build"],"skinnable":true});