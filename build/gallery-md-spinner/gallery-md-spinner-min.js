YUI.add("gallery-md-spinner",function(c){var q="Spinner",f=c.Lang,d=c.Widget,m="contentBox",g="value",i="Change",a="input",k="inputError",e="up",o="down",h="ui",l="parser",r="formatter",n="min",p="max",b="wraparound",j="wrapped";c[q]=c.Base.create(q,d,[c.MakeNode],{renderUI:function(){this.get(m).append(this._makeNode());this._locateNodes();},_onMouseDown:function(v){var u=v.target,s,x=false,w=this.get(g),t=this.get("minorStep");if(u.hasClass(this._classNames.up)){this.set(g,w+t);s=1;x=true;}else{if(u.hasClass(this._classNames.down)){this.set(g,w-t);s=-1;x=true;}}if(x){this._setMouseDownTimers(s,t);}},_defaultCB:function(){return null;},_onDocMouseUp:function(){this._clearMouseDownTimers();},_onDirectionKey:function(t){t.preventDefault();var u=this.get(g),s=this.get("minorStep"),v=this.get("majorStep");switch(t.charCode){case 38:u+=s;break;case 40:u-=s;break;case 33:u+=v;break;case 34:u-=v;break;}this.set(g,u);},_onInputChange:function(){var t=this._inputNode,s=this.get(l)(t.get(g));if(this._validateValue(s)){this.set(g,s);}else{t.focus();t.addClass(this._classNames[k]);c.later(1000,this,function(){t.removeClass(this._classNames[k]);});}},parser:function(s){return parseInt(s,10);},formatter:function(s){return s;},_setMouseDownTimers:function(s,t){this._mouseDownTimer=c.later(500,this,function(){this._mousePressTimer=c.later(100,this,function(){this.set(g,this.get(g)+(s*t));},null,true);});},_wrap:function(u){var s=this.get(p),t=this.get(n),v=u.newVal;if(v>s){v-=s-t+1;this.fire(j,{prevVal:u.newVal,newVal:v});}else{if(v<t){v+=s-t+1;this.fire(j,{prevVal:u.newVal,newVal:v});}}u.newVal=v;},_clearMouseDownTimers:function(){if(this._mouseDownTimer){this._mouseDownTimer.cancel();this._mouseDownTimer=null;}if(this._mousePressTimer){this._mousePressTimer.cancel();this._mousePressTimer=null;}},_uiSetValue:function(s,t){if(t===h){return;}this._inputNode.set(g,this.get(r)(s));},_uiSetWraparound:function(s){if(s){this._wrapListener=this.on(g+i,this._wrap,this);}else{if(this._wrapListener){this._wrapListener.detach();}}},_validateValue:function(s){return s>=this.get(n)&&s<=this.get(p);}},{_TEMPLATE:['<input type="text" title="{s input}" class="{c input}">','<button type="button" title="{s up}" class="{c up}"></button>','<button type="button" title="{s down}" class="{c down}"></button>'].join("\n"),_CLASS_NAMES:[a,e,o,k],_EVENTS:{".":{key:{fn:"_onDirectionKey",args:((!c.UA.opera)?"down:":"press:")+"38, 40, 33, 34"},mousedown:"_onMouseDown"},"..":{mouseup:"_onDocMouseUp"},input:{change:"_onInputChange"}},ATTRS:{min:{value:0},max:{value:100},value:{value:0,validator:"_validateValue"},minorStep:{value:1},majorStep:{value:10},tabIndex:{value:0},strings:{value:{input:"Press the arrow up/down keys for minor increments, page up/down for major increments.",up:"Increment",down:"Decrement"}},formatter:{valueFn:function(){return this.formatter;},validator:f.isFunction},parser:{valueFn:function(){return this.parser;},validator:f.isFunction},wraparound:{value:false,validator:f.isBoolean}},_ATTRS_2_UI:{BIND:[g,b],SYNC:[g,b]},HTML_PARSER:{value:function(s){var t=parseInt(s.get(g),10);return f.isNumber(t)?t:null;}}});},"@VERSION@",{skinnable:true,requires:["base-build","event-key","widget","node-focusmanager","gallery-makenode"]});